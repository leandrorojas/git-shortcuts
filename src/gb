#!/bin/bash

source common

if [[ $# -eq 1 ]]; then
    if [ "$1" = "-d" ]; then
        git_branch
    else
        BRANCH_NAME=$1

        # * * creates a new branch
        create_branch "$BRANCH_NAME"

        # * * checks out the new branch
        git_checkout "$BRANCH_NAME"

        #TODO: these two lines from above can be replaced with "git checkout -b branch_name"

        # * * makes some update
        control_file

        # * * commits the "initial commit"
        git_commit "initial commit"

        # * * pushes to the upstream
        git_push "$BRANCH_NAME"
    fi
else
    git_branch
fi