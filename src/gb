#!/bin/bash

source common.sh

if [[ $# -eq 1 ]]; then
    if [ "$1" = "-d" ]; then
        common::branch_delete_all
    else
        branch_name=$1

        # * * creates a new branch
        common::branch_create "$branch_name"

        # * * checks out the new branch
        common::git_checkout "$branch_name"

        #TODO: these two lines from above can be replaced with "git checkout -b branch_name"

        # * * makes some update
        common::file_create_control

        # * * commits the "initial commit"
        common::git_commit "initial commit"

        # * * pushes to the upstream
        common::git_push "$branch_name"
    fi
else
    common::git_branch
fi